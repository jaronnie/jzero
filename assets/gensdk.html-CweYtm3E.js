import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as l,c,d as r,w as s,a as n,e as u,b as a}from"./app-Bqr2SD6g.js";const d={},k=n("h2",{id:"自动生成客户端-sdk",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#自动生成客户端-sdk"},[n("span",null,"自动生成客户端 sdk")])],-1),m=n("ul",null,[n("li",null,"kubernetes client-go style"),n("li",null,"根据 api group 和 proto service 进行业务分组"),n("li",null,"链式调用, 调用逻辑清晰"),n("li",null,"自带 fake client 支持单元测试"),n("li",null,"可自定义接口进行扩展"),n("li",null,"支持基于统一 api 网关的多服务 sdk 集成在一个 sdk 库中")],-1),v=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),a(` app1
jzero gensdk `),n("span",{class:"token parameter variable"},"--module"),n("span",{class:"token operator"},"="),a("github.com/jaronnie/app1-go "),n("span",{class:"token parameter variable"},"--dir"),n("span",{class:"token operator"},"="),a(`app1-go
`),n("span",{class:"token builtin class-name"},"cd"),a(` app1-go
go mod tidy
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),b=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),a(` app1
`),n("span",{class:"token function"},"docker"),a(" run "),n("span",{class:"token parameter variable"},"--rm"),a(),n("span",{class:"token parameter variable"},"-v"),a(),n("span",{class:"token variable"},[a("${"),n("span",{class:"token environment constant"},"PWD"),a("}")]),a(":/app/app1 jaronnie/jzero:latest gensdk "),n("span",{class:"token parameter variable"},"--module"),n("span",{class:"token operator"},"="),a("github.com/jaronnie/app1-go "),n("span",{class:"token parameter variable"},"--dir"),n("span",{class:"token operator"},"="),a("app1-go "),n("span",{class:"token parameter variable"},"-w"),a(` app1

`),n("span",{class:"token builtin class-name"},"cd"),a(` app1-go
go mod tidy
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token builtin class-name"},"cd"),a(` app1
`),n("span",{class:"token function"},"docker"),a(" run "),n("span",{class:"token parameter variable"},"--rm"),a(),n("span",{class:"token parameter variable"},"-v"),a(),n("span",{class:"token variable"},[a("${"),n("span",{class:"token environment constant"},"PWD"),a("}")]),a(":/app/app1 jaronnie/jzero:latest-arm64 gensdk "),n("span",{class:"token parameter variable"},"--module"),n("span",{class:"token operator"},"="),a("github.com/jaronnie/app1-go "),n("span",{class:"token parameter variable"},"--dir"),n("span",{class:"token operator"},"="),a("app1-go "),n("span",{class:"token parameter variable"},"-w"),a(` app1
`),n("span",{class:"token builtin class-name"},"cd"),a(` app1-go
go mod tidy  
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),h=u(`<h2 id="sdk-使用实例" tabindex="-1"><a class="header-anchor" href="#sdk-使用实例"><span>sdk 使用实例</span></a></h2><div class="language-go line-numbers-mode" data-ext="go" data-title="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;context&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
	
	<span class="token string">&quot;github.com/jaronnie/app1-go&quot;</span>
	<span class="token string">&quot;github.com/jaronnie/app1-go/model/app1/types&quot;</span>
	<span class="token string">&quot;github.com/jaronnie/app1-go/rest&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	clientset<span class="token punctuation">,</span> err <span class="token operator">:=</span> app1<span class="token punctuation">.</span><span class="token function">NewClientWithOptions</span><span class="token punctuation">(</span>
		rest<span class="token punctuation">.</span><span class="token function">WithAddr</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		rest<span class="token punctuation">.</span><span class="token function">WithPort</span><span class="token punctuation">(</span><span class="token string">&quot;8001&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		rest<span class="token punctuation">.</span><span class="token function">WithProtocol</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	result<span class="token punctuation">,</span> err <span class="token operator">:=</span> clientset<span class="token punctuation">.</span><span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">HelloPathHandler</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>types<span class="token punctuation">.</span>PathRequest<span class="token punctuation">{</span>
		Name<span class="token punctuation">:</span> <span class="token string">&quot;jzero&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>Message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function f(_,y){const o=p("CodeTabs");return l(),c("div",null,[k,m,r(o,{id:"35",data:[{id:"jzero"},{id:"Docker(amd64)"},{id:"Docker(arm64)"}],"tab-id":"shell"},{title0:s(({value:e,isActive:t})=>[a("jzero")]),title1:s(({value:e,isActive:t})=>[a("Docker(amd64)")]),title2:s(({value:e,isActive:t})=>[a("Docker(arm64)")]),tab0:s(({value:e,isActive:t})=>[v]),tab1:s(({value:e,isActive:t})=>[b]),tab2:s(({value:e,isActive:t})=>[g]),_:1}),h])}const x=i(d,[["render",f],["__file","gensdk.html.vue"]]),w=JSON.parse('{"path":"/guide/gensdk.html","title":"生成客户端 SDK","lang":"zh-CN","frontmatter":{"title":"生成客户端 SDK","icon":"code","order":5,"description":"自动生成客户端 sdk kubernetes client-go style 根据 api group 和 proto service 进行业务分组 链式调用, 调用逻辑清晰 自带 fake client 支持单元测试 可自定义接口进行扩展 支持基于统一 api 网关的多服务 sdk 集成在一个 sdk 库中 sdk 使用实例","head":[["meta",{"property":"og:url","content":"https://jzero.jaronnie.com/guide/gensdk.html"}],["meta",{"property":"og:site_name","content":"Jzero Framework"}],["meta",{"property":"og:title","content":"生成客户端 SDK"}],["meta",{"property":"og:description","content":"自动生成客户端 sdk kubernetes client-go style 根据 api group 和 proto service 进行业务分组 链式调用, 调用逻辑清晰 自带 fake client 支持单元测试 可自定义接口进行扩展 支持基于统一 api 网关的多服务 sdk 集成在一个 sdk 库中 sdk 使用实例"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-30T08:21:46.000Z"}],["meta",{"property":"article:author","content":"jaronnie"}],["meta",{"property":"article:modified_time","content":"2024-04-30T08:21:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"生成客户端 SDK\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-30T08:21:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"jaronnie\\",\\"url\\":\\"https://github.com/jaronnie\\"}]}"]]},"headers":[{"level":2,"title":"自动生成客户端 sdk","slug":"自动生成客户端-sdk","link":"#自动生成客户端-sdk","children":[]},{"level":2,"title":"sdk 使用实例","slug":"sdk-使用实例","link":"#sdk-使用实例","children":[]}],"git":{"createdTime":1713956544000,"updatedTime":1714465306000,"contributors":[{"name":"jaronnie","email":"jaron@jaronnie.com","commits":8}]},"readingTime":{"minutes":0.72,"words":217},"filePathRelative":"guide/gensdk.md","localizedDate":"2024年4月24日","autoDesc":true}');export{x as comp,w as data};
